"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8528],{4814:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>i,contentTitle:()=>r,default:()=>p,frontMatter:()=>a,metadata:()=>l,toc:()=>c});var n=t(4848),o=t(8453);const a={},r="Running tests in parallel",l={id:"parallel",title:"Running tests in parallel",description:"Pabot",source:"@site/docs/parallel.mdx",sourceDirName:".",slug:"/parallel",permalink:"/docs/parallel",draft:!1,unlisted:!1,editUrl:"https://github.com/MarketSquare/robotframeworkguides/edit/main/website/docs/parallel.mdx",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Re-Execute failed tests",permalink:"/docs/flaky_tests"},next:{title:"Parsing Test Results",permalink:"/docs/parsing_results"}},i={},c=[{value:"Pabot",id:"pabot",level:2},{value:"Installation",id:"installation",level:3},{value:"Usage",id:"usage",level:3},{value:"Examples",id:"examples",level:3}];function d(e){const s={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components},{Details:t}=s;return t||function(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h1,{id:"running-tests-in-parallel",children:"Running tests in parallel"}),"\n",(0,n.jsx)(s.h2,{id:"pabot",children:"Pabot"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.a,{href:"https://github.com/mkorpela/pabot",children:"Pabot"})," is a ",(0,n.jsx)(s.strong,{children:"parallel test runner"})," for Robot Framework.\nIt can be used to run tests in parallel on a single machine with multiple processes."]}),"\n",(0,n.jsx)(s.p,{children:"Check out the video from RoboCon 2018"}),"\n",(0,n.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/i0RV6SJSIn8",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:!0}),"\n",(0,n.jsx)(s.h3,{id:"installation",children:"Installation"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:" pip install -U robotframework-pabot\n"})}),"\n",(0,n.jsx)(s.h3,{id:"usage",children:"Usage"}),"\n",(0,n.jsxs)(s.p,{children:["By default, Pabot will split execution on suite level. That means that each process will run a single suite.\nTest Cases from the suite will be executed sequentially.\nIf you want to split execution on test level, you can use ",(0,n.jsx)(s.code,{children:"--testlevelsplit"})," option. This will split execution on test level, so that each process will run a single test case."]}),"\n",(0,n.jsx)(s.p,{children:"Split execution to suite files:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"pabot [path to tests]\n"})}),"\n",(0,n.jsx)(s.p,{children:"Split execution on test level:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"pabot --testlevelsplit [path to tests]\n"})}),"\n",(0,n.jsx)(s.p,{children:"Run with 8 parallel processes:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"pabot --processes 8 [path to tests]\n"})}),"\n",(0,n.jsx)(s.p,{children:"The default number of processes depends on the number of CPU cores. (2 processes per core)\nIf no number pro processes is given, the default number of processes is used."}),"\n",(0,n.jsxs)(t,{children:[(0,n.jsx)("summary",{children:"Command Line Options"}),(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"pabot [--verbose|--testlevelsplit|--command .. --end-command|\n   --processes num|--pabotlib|--pabotlibhost host|--pabotlibport port|\n   --shard i/n|\n   --artifacts extensions|--artifactsinsubfolders|\n   --resourcefile file|--argumentfile[num] file|--suitesfrom file]\n  [robot options] [path ...]\n"})}),(0,n.jsxs)(s.p,{children:["Supports all ",(0,n.jsx)(s.a,{href:"https://robotframework.org/robotframework/latest/RobotFrameworkUserGuide.html#all-command-line-options",children:"Robot Framework command line options"})," and also following options (these must be before RF options):"]}),(0,n.jsxs)(s.p,{children:["--verbose",(0,n.jsx)(s.br,{}),"\n","more output from the parallel execution"]}),(0,n.jsxs)(s.p,{children:["--testlevelsplit",(0,n.jsx)(s.br,{}),"\n","Split execution on test level instead of default suite level.\nIf .pabotsuitenames contains both tests and suites then this\nwill only affect new suites and split only them.\nLeaving this flag out when both suites and tests in\n.pabotsuitenames file will also only affect new suites and\nadd them as suite files."]}),(0,n.jsxs)(s.p,{children:["--command [ACTUAL COMMANDS TO START ROBOT EXECUTOR] --end-command",(0,n.jsx)(s.br,{}),"\n","RF script for situations where robot is not used directly"]}),(0,n.jsxs)(s.p,{children:["--processes   [NUMBER OF PROCESSES]",(0,n.jsx)(s.br,{}),"\n","How many parallel executors to use (default max of 2 and cpu count)"]}),(0,n.jsxs)(s.p,{children:["--pabotlib",(0,n.jsx)(s.br,{}),"\n","Start PabotLib remote server. This enables locking and resource distribution between parallel test executions."]}),(0,n.jsxs)(s.p,{children:["--pabotlibhost   [HOSTNAME]",(0,n.jsx)(s.br,{}),"\n","Host name of the PabotLib remote server (default is 127.0.0.1)\nIf used with --pabotlib option, will change the host listen address of the created remote server (see ",(0,n.jsx)(s.a,{href:"https://github.com/robotframework/PythonRemoteServer",children:"https://github.com/robotframework/PythonRemoteServer"}),")\nIf used without the --pabotlib option, will connect to already running instance of the PabotLib remote server in the given host. The remote server can be also started and executed separately from pabot instances:"]}),(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"python -m pabot.pabotlib \\<path_to_resourcefile\\> \\<host\\> \\<port\\>\npython -m pabot.pabotlib resource.txt 192.168.1.123 8271\n"})}),(0,n.jsx)(s.p,{children:"This enables sharing a resource with multiple Robot Framework instances."}),(0,n.jsxs)(s.p,{children:["--pabotlibport   [PORT]",(0,n.jsx)(s.br,{}),"\n","Port number of the PabotLib remote server (default is 8270)\nSee --pabotlibhost for more information"]}),(0,n.jsxs)(s.p,{children:["--resourcefile   [FILEPATH]",(0,n.jsx)(s.br,{}),"\n","Indicator for a file that can contain shared variables for distributing resources. This needs to be used together with pabotlib option. Resource file syntax is same as Windows ini files. Where a section is a shared set of variables."]}),(0,n.jsxs)(s.p,{children:["--artifacts [FILE EXTENSIONS]",(0,n.jsx)(s.br,{}),"\n","List of file extensions (comma separated).\nDefines which files (screenshots, videos etc.) from separate reporting directories would be copied and included in a final report.\nPossible links to copied files in RF log would be updated (only relative paths supported).\nThe default value is ",(0,n.jsx)(s.code,{children:"png"}),".\nExamples:"]}),(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"--artifacts png,mp4,txt\n"})}),(0,n.jsxs)(s.p,{children:["--artifactsinsubfolders",(0,n.jsx)(s.br,{}),"\n","Copy artifacts located not only directly in the RF output dir, but also in it's sub-folders."]}),(0,n.jsxs)(s.p,{children:["--argumentfile[INTEGER]   [FILEPATH]",(0,n.jsx)(s.br,{}),"\n","Run same suites with multiple ",(0,n.jsx)(s.a,{href:"http://robotframework.org/robotframework/latest/RobotFrameworkUserGuide.html#argument-files",children:"argumentfile"})," options.\nFor example:"]}),(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"--argumentfile1 arg1.txt --argumentfile2 arg2.txt\n"})}),(0,n.jsxs)(s.p,{children:["--suitesfrom   [FILEPATH TO OUTPUTXML]",(0,n.jsx)(s.br,{}),"\n","Optionally read suites from output.xml file. Failed suites will run\nfirst and longer running ones will be executed before shorter ones."]}),(0,n.jsxs)(s.p,{children:["--shard [INDEX]/[TOTAL]",(0,n.jsx)(s.br,{}),"\n","Optionally split execution into smaller pieces. This can\nbe used for distributing testing to multiple machines."]}),(0,n.jsxs)(s.p,{children:["--chunk",(0,n.jsx)(s.br,{}),"\n","Optionally chunk tests to PROCESSES number of robot runs. This can save time because all the suites will share the same setups and teardowns."]}),(0,n.jsx)(s.p,{children:"Example usages:"}),(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"pabot test_directory\npabot --exclude FOO directory_to_tests\npabot --command java -jar robotframework.jar --end-command --include SMOKE tests\npabot --processes 10 tests\npabot --pabotlibhost 192.168.1.123 --pabotlibport 8271 --processes 10 tests\npabot --pabotlib --pabotlibhost 192.168.1.111 --pabotlibport 8272 --processes 10 tests\npabot --artifacts png,mp4,txt --artifactsinsubfolders directory_to_tests\n"})})]}),"\n",(0,n.jsx)(s.h3,{id:"examples",children:"Examples"}),"\n",(0,n.jsxs)(s.p,{children:["Multiple Test Suites in a ",(0,n.jsx)(s.code,{children:"tests/"})," directory"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-robotframework",metastring:'title="tests/SuiteA.robot"',children:"*** Test Cases ***\nTest Case 1\n    Log    Test Case 1\n    Sleep   10s\n\nTest Case 2\n    Log    Test Case 2\n    Sleep   10s\n\nTest Case 3\n    Log    Test Case 3\n    Sleep   10s\n"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-robotframework",metastring:'title="tests/SuiteB.robot"',children:"*** Test Cases ***\nTest Case A\n    Log    Test Case A\n    Sleep   10s\n\nTest Case B\n    Log    Test Case B\n    Sleep   10s\n\nTest Case C\n    Log    Test Case D\n    Sleep   10s\n"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:" pabot tests\n"})}),"\n",(0,n.jsx)(s.p,{children:"Will run both suites in parallel, but will execute test cases sequentially."}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:" pabot --testlevelsplit tests\n"})}),"\n",(0,n.jsx)(s.p,{children:"Will run both suites in parallel and will execute test cases in parallel."}),"\n",(0,n.jsxs)(s.p,{children:["If ",(0,n.jsx)(s.code,{children:"Test Suite Setups"})," and ",(0,n.jsx)(s.code,{children:"Test Suite Teardowns"})," are used, they will be executed for each instance of the suite."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-robotframework",metastring:'title="tests/SuiteA.robot"',children:"*** Settings ***\nTest Suite Setup    Log    Suite A Setup\nTest Suite Teardown    Log    Suite A Teardown\nTest Setup    Log    Test Setup\nTest Teardown    Log    Test Teardown\n\n*** Test Cases ***\nTest Case 1\n    Log    Test Case 1\n    Sleep   10s\n\nTest Case 2\n    Log    Test Case 2\n    Sleep   10s\n\nTest Case 3\n    Log    Test Case 3\n    Sleep   10s\n"})}),"\n",(0,n.jsxs)(s.p,{children:["When executed with the ",(0,n.jsx)(s.code,{children:"--testlevelsplit"})," option, the ",(0,n.jsx)(s.code,{children:"Test Suite Setup"})," and ",(0,n.jsx)(s.code,{children:"Test Suite Teardown"})," will also be executed once for each parallel instance of the suite.\nThe ",(0,n.jsx)(s.code,{children:"Test Setup"})," and ",(0,n.jsx)(s.code,{children:"Test Teardown"})," will be executed for each test case."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:" pabot --testlevelsplit tests\n"})})]})}function p(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},8453:(e,s,t)=>{t.d(s,{R:()=>r,x:()=>l});var n=t(6540);const o={},a=n.createContext(o);function r(e){const s=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),n.createElement(a.Provider,{value:s},e.children)}}}]);